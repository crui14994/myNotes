import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.DhH5gtWF.js";const o=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"CesiumSDK/MVT.md","filePath":"CesiumSDK/MVT.md","lastUpdated":1750314342000}'),l={name:"CesiumSDK/MVT.md"};function e(h,s,p,k,r,d){return t(),a("div",null,s[0]||(s[0]=[n(`<h4 id="mvt" tabindex="-1">MVT <a class="header-anchor" href="#mvt" aria-label="Permalink to &quot;MVT&quot;">​</a></h4><h4 id="获取所有-mvt-生成的图层-getallproviderlayers" tabindex="-1">获取所有 MVT 生成的图层 getAllProviderLayers <a class="header-anchor" href="#获取所有-mvt-生成的图层-getallproviderlayers" aria-label="Permalink to &quot;获取所有 MVT 生成的图层 getAllProviderLayers&quot;">​</a></h4><ul><li>@returns</li></ul><table tabindex="0"><thead><tr><th>返回值</th><th>type</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>providerArr</td><td>Array</td><td>MVT 图层对象。</td><td>-</td></tr></tbody></table><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes solarized-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#586E75;--shiki-light-font-weight:bold;--shiki-dark:#F97583;--shiki-dark-font-weight:inherit;">let</span><span style="--shiki-light:#268BD2;--shiki-dark:#E1E4E8;"> providerArr</span><span style="--shiki-light:#859900;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;"> CM</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;">MVT</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#B392F0;">getAllProviderLayers</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="加载-mvt-图层-loadmvtlayers" tabindex="-1">加载 MVT 图层 loadMvtLayers <a class="header-anchor" href="#加载-mvt-图层-loadmvtlayers" aria-label="Permalink to &quot;加载 MVT 图层 loadMvtLayers&quot;">​</a></h4><ul><li>@param</li></ul><table tabindex="0"><thead><tr><th>参数名</th><th>type</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>mapboxStyle</td><td>Object</td><td>mapbox 的样式配置对象</td><td>-</td></tr><tr><td>name</td><td>String</td><td>指定一个唯一值，用于销毁 MVT 图层</td><td>-</td></tr><tr><td>callback</td><td>Function</td><td>加载完成的回调函数</td><td>-</td></tr></tbody></table><ul><li>@returns</li></ul><table tabindex="0"><thead><tr><th>返回值</th><th>type</th><th>描述</th></tr></thead><tbody><tr><td>myLayer</td><td>Object</td><td>返回当前加载的 MVT 图层。</td></tr></tbody></table><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes solarized-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#586E75;--shiki-light-font-weight:bold;--shiki-dark:#F97583;--shiki-dark-font-weight:inherit;">let</span><span style="--shiki-light:#268BD2;--shiki-dark:#E1E4E8;"> mapboxStyle</span><span style="--shiki-light:#859900;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">  version: </span><span style="--shiki-light:#D33682;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">  sources: {</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">    mvtTest: {</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;vector&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      tiles: [</span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">\`./data/MVT/lakepbf/{z}/{x}/{y}.pbf\`</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      minzoom: </span><span style="--shiki-light:#D33682;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      maxzoom: </span><span style="--shiki-light:#D33682;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">  layers: [</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      id: </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;polygons&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      source: </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;mvtTest&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">      &quot;source-layer&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;lake&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#93A1A1;--shiki-light-font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;">//此属性可根据控制台加载的pbf信息中获取，位于preview前几行</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;fill&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      paint: {</span></span>
<span class="line"><span style="--shiki-light:#93A1A1;--shiki-light-font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;">        // &quot;fill-color&quot;: &quot;rgba(19, 129, 187, 1)&quot;,</span></span>
<span class="line"><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">        &quot;fill-color&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;get&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;color&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#93A1A1;--shiki-light-font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:inherit;">//从属性中取颜色</span></span>
<span class="line"><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">        &quot;fill-opacity&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D33682;--shiki-dark:#79B8FF;">0.8</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">        &quot;fill-outline-color&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;rgba(255, 255, 255, 1)&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;">CM</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;">MVT</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#B392F0;">loadMvtLayers</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#268BD2;--shiki-dark:#E1E4E8;">mapboxStyle</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#2AA198;--shiki-dark:#9ECBFF;">&quot;myPBF&quot;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#657B83;--shiki-dark:#FFAB70;">myLayer</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#586E75;--shiki-light-font-weight:bold;--shiki-dark:#F97583;--shiki-dark-font-weight:inherit;">=&gt;</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#268BD2;--shiki-dark:#E1E4E8;">  console</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#268BD2;--shiki-dark:#E1E4E8;">viewer</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="销毁全部-mvt-图层-destorymvtall" tabindex="-1">销毁全部 mvt 图层 destoryMvtAll <a class="header-anchor" href="#销毁全部-mvt-图层-destorymvtall" aria-label="Permalink to &quot;销毁全部 mvt 图层 destoryMvtAll&quot;">​</a></h4><div class="warning custom-block"><p class="custom-block-title">注意</p><p>在切换加载 MVT 时一定要销毁之前的图层，否则会报错</p></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes solarized-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;">CM</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;">MVT</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#B392F0;">destoryMvtAll</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="根据-name-销毁指定的-mvt-图层-destorymvt" tabindex="-1">根据 name 销毁指定的 mvt 图层 destoryMVT <a class="header-anchor" href="#根据-name-销毁指定的-mvt-图层-destorymvt" aria-label="Permalink to &quot;根据 name 销毁指定的 mvt 图层 destoryMVT&quot;">​</a></h4><ul><li>@param</li></ul><table tabindex="0"><thead><tr><th>参数名</th><th>type</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>nameArr</td><td>Array</td><td>字符串数组，要销毁的图层。</td><td>-</td></tr></tbody></table><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes solarized-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;">CM</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#79B8FF;">MVT</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#268BD2;--shiki-dark:#B392F0;">destoryMVT</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#268BD2;--shiki-dark:#E1E4E8;">nameArr</span><span style="--shiki-light:#657B83;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,18)]))}const y=i(l,[["render",e]]);export{o as __pageData,y as default};
